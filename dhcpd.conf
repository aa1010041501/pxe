option domain-name "example.org";
option domain-name-servers ns1.example.org, ns2.example.org;

option space PXE;
option PXE.mtftp-ip    code 1 = ip-address;
option PXE.mtftp-cport code 2 = unsigned integer 16;
option PXE.mtftp-sport code 3 = unsigned integer 16;
option PXE.mtftp-tmout code 4 = unsigned integer 8;
option PXE.mtftp-delay code 5 = unsigned integer 8;
option arch code 93 = unsigned integer 16; # RFC4578

default-lease-time 600;
max-lease-time 7200;

ddns-update-style none;

subnet 172.16.60.0 netmask 255.255.255.0 {
	range 172.16.60.110 172.16.60.250;
	option domain-name-servers 172.16.60.254;
	option subnet-mask 255.255.255.0;
	option routers 172.16.60.254;
	option broadcast-address 172.16.60.255;
	next-server 172.16.203.13;
	filename "pxelinux.0";
	allow booting;
	allow bootp;
}

subnet 192.168.98.0 netmask 255.255.255.0 {
        range 192.168.98.11 192.168.98.190;
        option domain-name-servers 192.168.98.1;
        option subnet-mask 255.255.255.0;
        option routers 192.168.98.254;
        option broadcast-address 192.168.98.255;
          class "pxeclients" {
                  match if substring (option vendor-class-identifier, 0, 9) = "PXEClient";
                  next-server 192.168.98.1;

                  if option arch = 00:06 {
                          filename "pxelinux/bootia32.efi";
                  } else if option arch = 00:07 {
                          filename "bootx64.efi";
                  } else {
                          filename "pxelinux.0";
                  }
          }
#        next-server 172.16.203.13;
#        filename "bootx64.efi";
        allow booting;
        allow bootp;
}

subnet 10.211.55.0 netmask 255.255.255.0 {
        range 10.211.55.90 10.211.55.100;
        option domain-name-servers 10.211.55.4;
        option subnet-mask 255.255.255.0;
        option routers 10.211.55.1;
        option broadcast-address 10.211.55.255;
        next-server 10.211.55.4;
        filename "pxelinux.0";
        allow booting;
        allow bootp;
}

subnet 172.16.10.0 netmask 255.255.255.0 {
        range 172.16.10.110 172.16.10.250;
        option domain-name-servers 172.16.203.13;
        option subnet-mask 255.255.255.0;
        option routers 172.16.10.254;
        option broadcast-address 172.16.10.255;
        next-server 172.16.203.13;
        filename "pxelinux.0";
        allow booting;
        allow bootp;
}
subnet 172.16.14.0 netmask 255.255.255.0 {
        range 172.16.14.50 172.16.14.150;
        option domain-name-servers 172.16.203.13;
        option subnet-mask 255.255.255.0;
        option routers 172.16.14.254;
        option broadcast-address 172.16.14.255;
        next-server 172.16.203.13;
        filename "pxelinux.0";
        allow booting;
        allow bootp;
  group{
	#指定的mac地址获取到指定的ip地址
    #host ligo           { hardware ethernet 08:00:20:7A:E2:70; fixed-address 172.16.43.179;   } #a225 ligo
    # ...
    #host vumfsa2        { hardware ethernet ac:1f:6b:ee:4c:d8; fixed-address 172.16.14.249;   } # 118
    #host vumfsa1        { hardware ethernet b4:09:31:26:d4:df; fixed-address 172.16.14.248;   } # 118
  }

}
subnet 172.16.11.0 netmask 255.255.255.0 {
        range 172.16.11.200 172.16.11.250;
	option subnet-mask 255.255.255.0;
        option domain-name-servers 172.16.203.13;
        option routers 172.16.11.254;
        option broadcast-address 172.16.11.255;
        next-server 172.16.203.13;
        filename "pxelinux.0";
        allow booting;
        allow bootp;
  }
subnet 172.16.12.0 netmask 255.255.255.0 {
        range 172.16.12.200 172.16.12.250;
	option subnet-mask 255.255.255.0;
        option domain-name-servers 172.16.203.13;
        option routers 172.16.12.254;
        option broadcast-address 172.16.12.255;
        next-server 172.16.203.13;
        filename "pxelinux.0";
        allow booting;
        allow bootp;
  }
subnet 172.16.17.0 netmask 255.255.255.0 {
        range 172.16.17.200 172.16.17.250;
        option subnet-mask 255.255.255.0;
        option domain-name-servers 172.16.203.13;
        option routers 172.16.17.254;
        option broadcast-address 172.16.17.255;
        next-server 172.16.203.13;
        filename "pxelinux.0";
        allow booting;
        allow bootp;
  }
subnet 172.16.28.0 netmask 255.255.255.0 {
class "httpclients" {
  match if substring (option vendor-class-identifier, 0, 10) = "HTTPClient";
  option vendor-class-identifier "HTTPClient";
  filename "http://172.16.203.13/ubuntu22041/EFI/boot/bootx64.efi";
}
        range 172.16.28.200 172.16.28.250;
        option subnet-mask 255.255.255.0;
        option domain-name-servers 172.16.203.13;
        option routers 172.16.28.254;
        option broadcast-address 172.16.28.255;
        next-server 172.16.203.13;
        filename "pxelinux.0";
        allow booting;
        allow bootp;
  }
subnet 172.16.33.0 netmask 255.255.255.0 {
        range 172.16.33.200 172.16.33.250;
        option subnet-mask 255.255.255.0;
        option domain-name-servers 172.16.203.13;
        option routers 172.16.33.254;
        option broadcast-address 172.16.33.255;
        next-server 172.16.203.13;
        filename "pxelinux.0";
        allow booting;
        allow bootp;
  }
subnet 172.16.36.0 netmask 255.255.255.0 {
        range 172.16.36.200 172.16.36.250;
        option subnet-mask 255.255.255.0;
        option domain-name-servers 172.16.203.13;
        option routers 172.16.36.254;
        option broadcast-address 172.16.36.255;
        next-server 172.16.203.13;
        filename "pxelinux.0";
        allow booting;
        allow bootp;
  }


subnet 172.16.32.0 netmask 255.255.255.0 {
        range 172.16.32.200 172.16.32.250;
        option subnet-mask 255.255.255.0;
        option domain-name-servers 172.16.203.13;
        option routers 172.16.32.254;
        option broadcast-address 172.16.32.255;
        next-server 172.16.203.13;
        filename "pxelinux.0";
        allow booting;
        allow bootp;
  }
#subnet 172.16.44.0 netmask 255.255.255.0 {
#        range 172.16.44.200 172.16.44.250;
#        option subnet-mask 255.255.255.0;
#        option domain-name-servers 172.16.203.13;
#        option routers 172.16.44.254;
#        option broadcast-address 172.16.44.255;
#        next-server 172.16.203.13;
#        filename "pxelinux.0";
#        allow booting;
#        allow bootp;
#  }
subnet 172.16.40.0 netmask 255.255.255.0 {
        range 172.16.40.200 172.16.40.250;
        option subnet-mask 255.255.255.0;
        option domain-name-servers 172.16.203.13;
        option routers 172.16.40.254;
        option broadcast-address 172.16.40.255;
        next-server 172.16.203.13;
        filename "pxelinux.0";
        allow booting;
        allow bootp;
  }
